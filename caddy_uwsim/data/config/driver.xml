<launch>
    <group if="$(env SIM)">
    <node pkg="ldtravocean" type="model_node" name="pladypos_node" args="$(find caddy_uwsim)/data/config/pladypos_model.xml" machine="pladypos">
        <!-- This will also adjust the model sampling time -->
    	<param name="Rate" value="10" />
    	<param name="ModelWrap" value="10"/>
    	<remap from="tauIn" to="tauOut" />
    	<remap from="meas" to="sim_meas" />
    	<param name="maxThrust" value="9.2" />
    	<param name="minThrust" value="-9.2" />
    	<remap from="imu_model" to="imu" />
    	<remap from="fix" to="gps" />
    </node>
    </group>

    <node pkg="pladypos" name="pladypos_node" type="pladypos_node" unless="$(env SIM)" machine="pladypos" >
      <param name="PortName" value="/dev/ttyS1" />
      <param name="Baud" value="57600" />
      <param name="maxThrust" value="1"/>
      <param name="minThrust" value="-1"/>
      <remap from="tauIn" to="tauOut" />
    </node>
</launch>
