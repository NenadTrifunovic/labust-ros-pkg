<launch>
	<group ns="topside">
		<rosparam command="load"
			file="$(find cart2)/data/config/$(env LOCATION).yaml" />
		<node pkg="joy" name="joystick" type="joy_node">
			<param name="dev" value="$(env JOYSTICK)" />
			<param name="coalesce_interval" value="0.1" />
			<param name="autorepeat_rate" value="10" />
			<param name="deadzone" value="0.05" />
		</node>

		<node pkg="cart2" type="topside_radio" name="topside_modem">
			<!-- <param name="PortName" value="/dev/ttyUSB1" /> -->
			<param name="PortName" value="/dev/pts/3" />
			<param name="BaudRate" value="19200" />
			<param name="TransmitRate" value="5" />
			<param name="tf_prefix" value="topside" />
			<remap from="joy_in" to="joy" />
			<remap from="target_point" to="/dummy/stateHat" />
		</node>

		<node pkg="rqt_reconfigure" type="rqt_reconfigure" name="topside_reconfigure" />
		<node pkg="rviz" name="rviz_topside" type="rviz" />
		<node pkg="cart2" type="repost_node" name="position_repost">
			<param name="tf_prefix" value="topside" />
		</node>

		<node pkg="acoustic_vr" name="audioex" type="acoustic_vr">
			<rosparam command="load"
				file="$(find acoustic_vr)/data/config/audio_experiment.yaml" />
			<param name="TexturePath" value="$(find acoustic_vr)/data/media/files/" />
			<param name="MediaPath" value="$(find acoustic_vr)/data/media/" />
			<remap from="target_point" to="selected_point" />
		</node>
		<node pkg="cart2" name="cart2_marker" type="cart2_rviz.py">
			<remap from="target_point" to="selected_point" />
    </node>
	</group>
</launch>
