<launch>
	<node pkg="ldtravocean" type="model_node" name="cart2_node"
		args="$(env SIM_MODEL)" if="$(env IS_SIM)">
		<!-- This will also adjust the model sampling time -->
		<param name="Rate" value="10" />
		<param name="ModelWrap" value="10" />
		<remap from="tauIn" to="tauOut" />
		<remap from="meas" to="meas_sim" />
		<param name="maxThrust" value="9.2" />
		<param name="minThrust" value="-9.2" />
		<param name="publish_world" value="false" />
		<param name="use_noise" value="true" unless="$(env NO_NOISE)" />

		<remap from="imu_model" to="imu" />
		<remap from="fix" to="gps" />
	</node>

	<node pkg="cart2" type="cart2_node" name="cart2_node" if="$(env USE_CART)" machine="controlled"/>
	
	<node pkg="cart2" type="vr_node" name="vr_node" if="$(env USE_VR)" machine="controlled">
	    <param name="PortName" value="/dev/ttyUSB1" />
	    <param name="BaudRate" value="9600" />
	    <param name="an" value="0.0003" />
	    <param name="bn" value="0.0001389" />
	    
	    <remap from="vr_imu" to="imu" />
	    <remap from="tauIn" to="tauOut" />	        
	</node>
</launch>