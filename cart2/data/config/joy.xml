<launch>
	<node pkg="joy" name="joystick" type="joy_node" machine="shoreside"
		unless="$(env USE_CNR_RADIO)">
		<param name="dev" value="$(env JOYSTICK)" />
		<param name="coalesce_interval" value="0.1" />
		<param name="autorepeat_rate" value="10" />
		<param name="deadzone" value="0.05" />
	</node>

	<node pkg="cart2" type="topside_radio" name="radio_modem" if="$(env IS_REMOTE)">
		<!-- <param name="PortName" value="/dev/ttyUSB0" /> -->
		<param name="PortName" value="/dev/pts/4" />
		<param name="BaudRate" value="19200" />
		<param name="TransmitRate" value="1" />
		<param name="IsTopside" value="false" />
		<param name="TwoWay" value="true" />
		<remap from="joy_out" to="joy" />
		<param name="tf_prefix" value="$(env TF_PREFIX)" if="$(env USE_TF_PREFIX)" />
	</node>
	
	<node pkg="cart2" type="cnr_radio" name="radio_modem" if="$(env USE_CNR_RADIO)">
		<!-- <param name="PortName" value="/dev/ttyUSB1" /> -->
		<param name="PortName" value="/dev/pts/4" />
		<param name="BaudRate" value="19200" />
		<!-- cart=0, bart=1 -->
		<param name="ID" value="0" />
		<param name="YawInc" value="0.05" />
		<param name="DummyRequester" value="false" />
		<remap from="joy_out" to="joy" />
	</node>
</launch>
